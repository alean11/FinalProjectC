<?xml version="1.0" encoding="UTF-8"?>

<!-- ==== #00. mapper 기본설정 ==== -->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- ==== #00. 루트 엘리먼트 & 네임스페이스 설정(프로젝트 전체내에서 유일해야 함.) ==== -->
<mapper namespace="chy">


	<!-- #y2. 리스트 뷰단에 뿌려줄 지역명 및 코드를 불러옴. -->
	<resultMap type="HashMap" id="regionMap">
		<result property="reCode"		column="region_code"		javaType="String"/>
		<result property="reName"		column="region_name" 		javaType="String"/>
		<result property="reShotName"	column="region_shortName"	javaType="String"/>
	</resultMap>
	<select id="getRegionList" resultMap="regionMap">
		select region_code, region_name, region_shortName
		from area_tbl
		order by region_code asc
	</select>



	<!-- #y3. 호텔 목록 뽑기: 검색어 포함 -->
	<select id="getAccList" resultType="com.spring.wetre.model.AccVO">
		select acc_idx, acc_name, acc_img, acc_Rcnt, acc_text, region_name
		from acc_tbl A LEFT OUTER JOIN area_tbl R
		ON A.state = R.region_code
		<if test=" != null">
			where acc_addr1 like '%'|| '${}' || '%'
		</if>
	</select>
	<!-- 테이블 더 조인해서 요금 얻어와야 되는데, 테이블 조인해서 index 만드는 게 가능한지 알아봐야 함. -->

	<!-- #y3. 호텔 목록 뽑기: 검색어 미포함(전부 뽑기) -->
	<select id="getAccAllList" resultType="com.spring.wetre.model.AccVO">
		select acc_idx, acc_name, acc_img, acc_Rcnt, acc_text, region_name
		from acc_tbl A LEFT OUTER JOIN area_tbl R
		ON A.state = R.region_code
	</select>




</mapper>